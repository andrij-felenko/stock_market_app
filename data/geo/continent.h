#ifndef GEO_CONTINENT_H
#define GEO_CONTINENT_H

#include <QtCore/QString>
#include <QtCore/QStringList>
#include <QtCore/QList>
#include <QtCore/QDataStream>
#include <cstdint>

namespace geo {

    // -------------------- Continents --------------------
    enum class Continent : uint16_t {
        Europe = 0xC400,
        Africa = 0xC500,
        North_America = 0xC600,
        South_America = 0xC700,
        Oceania = 0xC800,
        Asia = 0xC900,   // historical grouping used in your project

        None = 0xC9FF
    };

    constexpr uint16_t operator + (Continent c) { return static_cast <uint16_t>(c); }

    // -------------------- Subregions --------------------
    // Деталізовані регіони всередині континентів.
    // Включає як UN-подібне ділення, так і окремий культурний сабрегіон "Scandinavia".
    enum class Subregion : uint16_t {
        // Europe
        WesternEurope = +Continent::Europe | 0b0100'0000, // 01.. ....
        CentralEurope =        WesternEurope | 0b00'0000, // 0100 ....
        BritishIsles  =        WesternEurope | 0b01'0000, // 0101 ....
        Benelux       =        WesternEurope | 0b10'0000, // 0110 ....
        Scandinavia   =        WesternEurope | 0b11'0000, // 0111 ....

        SouthernEurope = +Continent::Europe | 0b1000'0000, // 10.. ....
        ItaloAdriatic  =       SouthernEurope | 0b01'0000, // 1001 ....
        Balkans        =       SouthernEurope | 0b10'0000, // 1010 ....
        Iberia         =       SouthernEurope | 0b11'0000, // 1011 ....

        EasternEurope = +Continent::Europe | 0b1100'0000, // 11.. ....
        EuropeanBlackSea =     EasternEurope | 0b01'0000, // 1101 ....
        Visegrad         =     EasternEurope | 0b10'0000, // 1110 ....
        BalticsStates    =     EasternEurope | 0b11'0000, // 1111 ....

        // Asia
        WesternAsia = +Continent::Asia | 0b0100'0000, // 01.. ....
        Arabia             = WesternAsia | 0b01'0000, // 0101 ....
        Caucasus           = WesternAsia | 0b10'0000, // 0110 ....
        MiddleEast         = WesternAsia | 0b11'0000, // 0111 ....

        SouthernAsia = +Continent::Asia | 0b1000'0000, // 10.. ....
        CentalAsia         = SouthernAsia | 0b01'0000, // 1001 ....
        Hindustan          = SouthernAsia | 0b10'0000, // 1010 ....
        GreatKhrasan       = SouthernAsia | 0b11'0000, // 1011 ....

        EasternAsia = +Continent::Asia | 0b1100'0000, // 11.. ....
        SinoJapanese       = EasternAsia | 0b01'0000, // 1101 ....
        IndoChina          = EasternAsia | 0b10'0000, // 1110 ....
        MalayArchipelago   = EasternAsia | 0b11'0000, // 1111 ....

        // America
        AngloAmerica   = +Continent::North_America | 0b0100'0000,
        CentralAmerica = +Continent::North_America | 0b1000'0000,
        Caribbean      = +Continent::North_America | 0b1100'0000,
        SouthAmerica   = +Continent::South_America,

        // Africa
        NorthAfrica = +Continent::Africa | 0b0000'0000, // 0... ....
        Maghreb             = NorthAfrica | 0b010'0000, // 001. ....
        NileValley          = NorthAfrica | 0b100'0000, // 010. ....

        SubSaharan  = +Continent::Africa | 0b1000'0000, // 1... ....
        Sahel                = SubSaharan | 0b001'0000, // 1001 ....
        GuineaCoast          = SubSaharan | 0b010'0000, // 1010 ....
        CongoBasin           = SubSaharan | 0b011'0000, // 1011 ....
        HornOfAfrica         = SubSaharan | 0b100'0000, // 1100 ....
        GreatLakes           = SubSaharan | 0b101'0000, // 1101 ....
        SouthernAfrica       = SubSaharan | 0b110'0000, // 1110 ....
        IndianOceanAfrica    = SubSaharan | 0b111'0000, // 1111 ....

        // Oceania
        AustralianAndNewZealand = +Continent::Oceania | 0b0010'0000, // 001. ....
        Melanesia               = +Continent::Oceania | 0b0100'0000, // 010. ....
        Micronesia              = +Continent::Oceania | 0b0110'0000, // 011. ....
        Polynesia               = +Continent::Oceania | 0b1000'0000, // 100. ....

        Unknown = +Continent::None
    };
    constexpr uint16_t operator + (Subregion r) { return static_cast <uint16_t>(r); }

    struct ContinentName {
        static QString     to_string(Continent c);
        static Continent   from_string(const QString& s);

        static QStringList allNames();
        static QList<Continent> all();
    };
    QString  operator ~ (Continent c);

    struct SubregionName {
        static QString     to_string(Subregion r);
        static Subregion   from_string(const QString& s);

        static QStringList allNames();
        static QList<Subregion> all();

        static Continent continent(Subregion r);

        static QList <Subregion> ofContinent(Continent c);
    };
    QString  operator ~ (Subregion c);
} // namespace geo

// QDataStream operators
QDataStream& operator << (QDataStream& out, const geo::Continent& c);
QDataStream& operator >> (QDataStream& in,        geo::Continent& c);
QDataStream& operator << (QDataStream& out, const geo::Subregion& r);
QDataStream& operator >> (QDataStream& in,        geo::Subregion& r);

#endif // GEO_CONTINENT_H
